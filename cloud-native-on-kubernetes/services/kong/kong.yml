_format_version: "3.0"
_transform: true

services:
- name: user-service
  url: http://user-service:8080
  routes:
    - name: public-routes
      paths:
        - /user-service/api/public
      methods:
        - GET
        - POST
        - PUT
        - DELETE
      strip_path: true

    - name: private-routes
      paths:
        - /user-service/api/private
      methods:
        - GET
        - POST
        - PUT
        - DELETE
      plugins:
        - name: jwt
      strip_path: true

# plugins:
# - name: jwt
#   enabled: true
#   config:
#     key_claim_name: kid
#     claims_to_verify:
#     - exp

consumers:
- username: admin

jwt_secrets:
- consumer: admin
  algorithm: HS256
  secret: 9D6DA3B7-5634-4FFB-A9A0-2CA14248A378
